import{u as A,s as k,r as u,o as r,h as g,b as s,e as o,v as $,c as v,j as S,a as B,w as d,d as n,z as V,g as D,k as E,l as M,y as j,F as q,H as F,m as H,x as L,n as R,t as w}from"./index-ffa3455d.js";const T={class:"grid grid-cols-1 gap-4"},W=o("h4",{class:"text-dark-500 text-lg"},"Billing History",-1),z={__name:"BillingTransactions",setup(P){return A(),k("http"),(l,i)=>{const m=u("PEmpty");return r(),g("main",T,[W,s(m,{caption:"You donâ€™t have any billing history at the moment"})])}}},G=o("h3",{class:"px-4 pb-2 text-2xl font-semibold text-primary"}," Bills & Payment ",-1),U={class:"ion-padding grid grid-cols-2 gap-3"},Y={class:"text-dark-400"},J={class:"text-sm font-medium"},K=o("div",{class:"flex flex-col gap-1"},[o("span",{class:"font-medium"},"Auto-Billing"),o("span",{class:"text-sm text-dark-400"}," Automate the billing process ")],-1),O={class:"ion-padding"},Z={__name:"BillsAndPayment",setup(P){const l=A(),i=k("http"),{showToast:m,formatAmount:Q,processError:p}=V,c=$(!1),_=v(()=>l.getAutoBillingStatus),b=v(()=>[{title:"Next Billing Amount",value:"N/A"},{title:"Next Billing Date",value:"N/A"}]),N=async t=>{await h(),await y(),await f(),t.target.complete()};S(async()=>{try{c.value=!0,await h(),y(),f(),c.value=!1}catch(t){c.value=!1}});const h=async()=>{try{const t=await i({endpoint:"AutoBillingStatus",httpMethod:"get"});console.log(t),l.$patch({autoBillingStatus:t.isAutoBillingActivated})}catch(t){const e=p(t);console.log(e)}},y=async()=>{try{const t=await i({endpoint:"MyWallet",httpMethod:"get"});console.log(t),l.$patch({wallet:t})}catch(t){const e=p(t);console.log(e)}},f=async()=>{try{const t=await i({endpoint:"GetCards",httpMethod:"get"});console.log(t),l.$patch({cards:t.items})}catch(t){const e=p(t);console.log(e)}};return(t,e)=>{const C=u("PNav"),x=u("PDivider"),I=u("PLoader");return r(),B(n(R),null,{default:d(()=>[s(n(D),{class:"ion-no-border bg-white"},{default:d(()=>[s(C),G]),_:1}),s(n(H),{fullscreen:""},{default:d(()=>[s(n(E),{slot:"fixed",onIonRefresh:e[0]||(e[0]=a=>N(a))},{default:d(()=>[s(n(M))]),_:1}),o("div",U,[(r(!0),g(q,null,j(b.value,a=>(r(),g("div",{key:a.title,class:"flex flex-col gap-1 rounded-lg border border-secondary p-3 text-xs text-dark-500"},[o("span",Y,w(a.title),1),o("span",J,w(a.value),1)]))),128))]),s(x),o("div",{onClick:e[2]||(e[2]=a=>t.$router.push({name:"AutoBilling"})),class:"ion-padding flex items-center justify-between gap-2 text-dark-500"},[K,s(n(F),{class:"pointer-events-none",modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=a=>_.value=a),mode:"ios",slot:"end",color:"secondary"},null,8,["modelValue"])]),s(x),o("div",O,[s(z)])]),_:1}),c.value?(r(),B(I,{key:0})):L("",!0)]),_:1})}}};export{Z as default};
