import{u as U,s as W,v as P,c as V,j as J,r as F,o as A,a as G,w as $,d as x,z as Q,b as p,e as L,B as K,t as X,f as Z,h as E,y as N,F as j,g as w,k as ee,l as ae,m as te,x as le,n as ne}from"./index-ffa3455d.js";import{e as se,c as Y,d as oe,f as ie,S as re,A as ce,K as de,N as fe,b as ue,a as ge}from"./swiper-slide-dd9ef5d1.js";import{_ as me}from"./FoodCard-44ed581f.js";function H(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function pe({swiper:e,extendParams:O,on:u,emit:v}){const c="swiper-pagination";O({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:a=>a,formatFractionTotal:a=>a,bulletClass:`${c}-bullet`,bulletActiveClass:`${c}-bullet-active`,modifierClass:`${c}-`,currentClass:`${c}-current`,totalClass:`${c}-total`,hiddenClass:`${c}-hidden`,progressbarFillClass:`${c}-progressbar-fill`,progressbarOppositeClass:`${c}-progressbar-opposite`,clickableClass:`${c}-clickable`,lockClass:`${c}-lock`,horizontalClass:`${c}-horizontal`,verticalClass:`${c}-vertical`,paginationDisabledClass:`${c}-disabled`}}),e.pagination={el:null,bullets:[]};let I,h=0;const y=a=>(Array.isArray(a)||(a=[a].filter(t=>!!t)),a);function z(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function g(a,t){const{bulletActiveClass:n}=e.params.pagination;a&&(a=a[`${t==="prev"?"previous":"next"}ElementSibling`],a&&(a.classList.add(`${n}-${t}`),a=a[`${t==="prev"?"previous":"next"}ElementSibling`],a&&a.classList.add(`${n}-${t}-${t}`)))}function R(a){const t=a.target.closest(H(e.params.pagination.bulletClass));if(!t)return;a.preventDefault();const n=Y(t)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===n)return;const l=e.getSlideIndexByData(n),s=e.getSlideIndexByData(e.realIndex);l>e.slides.length-e.loopedSlides&&e.loopFix({direction:l>s?"next":"prev",activeSlideIndex:l,slideTo:!1}),e.slideToLoop(n)}else e.slideTo(n)}function C(){const a=e.rtl,t=e.params.pagination;if(z())return;let n=e.pagination.el;n=y(n);let l,s;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,D=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(s=e.previousRealIndex||0,l=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(l=e.snapIndex,s=e.previousSnapIndex):(s=e.previousIndex||0,l=e.activeIndex||0),t.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const i=e.pagination.bullets;let m,d,B;if(t.dynamicBullets&&(I=se(i[0],e.isHorizontal()?"width":"height",!0),n.forEach(o=>{o.style[e.isHorizontal()?"width":"height"]=`${I*(t.dynamicMainBullets+4)}px`}),t.dynamicMainBullets>1&&s!==void 0&&(h+=l-(s||0),h>t.dynamicMainBullets-1?h=t.dynamicMainBullets-1:h<0&&(h=0)),m=Math.max(l-h,0),d=m+(Math.min(i.length,t.dynamicMainBullets)-1),B=(d+m)/2),i.forEach(o=>{const r=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(f=>`${t.bulletActiveClass}${f}`)].map(f=>typeof f=="string"&&f.includes(" ")?f.split(" "):f).flat();o.classList.remove(...r)}),n.length>1)i.forEach(o=>{const r=Y(o);r===l&&o.classList.add(...t.bulletActiveClass.split(" ")),t.dynamicBullets&&(r>=m&&r<=d&&o.classList.add(...`${t.bulletActiveClass}-main`.split(" ")),r===m&&g(o,"prev"),r===d&&g(o,"next"))});else{const o=i[l];if(o&&o.classList.add(...t.bulletActiveClass.split(" ")),t.dynamicBullets){const r=i[m],f=i[d];for(let _=m;_<=d;_+=1)i[_]&&i[_].classList.add(...`${t.bulletActiveClass}-main`.split(" "));g(r,"prev"),g(f,"next")}}if(t.dynamicBullets){const o=Math.min(i.length,t.dynamicMainBullets+4),r=(I*o-I)/2-B*I,f=a?"right":"left";i.forEach(_=>{_.style[e.isHorizontal()?f:"top"]=`${r}px`})}}n.forEach((i,m)=>{if(t.type==="fraction"&&(i.querySelectorAll(H(t.currentClass)).forEach(d=>{d.textContent=t.formatFractionCurrent(l+1)}),i.querySelectorAll(H(t.totalClass)).forEach(d=>{d.textContent=t.formatFractionTotal(D)})),t.type==="progressbar"){let d;t.progressbarOpposite?d=e.isHorizontal()?"vertical":"horizontal":d=e.isHorizontal()?"horizontal":"vertical";const B=(l+1)/D;let o=1,r=1;d==="horizontal"?o=B:r=B,i.querySelectorAll(H(t.progressbarFillClass)).forEach(f=>{f.style.transform=`translate3d(0,0,0) scaleX(${o}) scaleY(${r})`,f.style.transitionDuration=`${e.params.speed}ms`})}t.type==="custom"&&t.renderCustom?(i.innerHTML=t.renderCustom(e,l+1,D),m===0&&v("paginationRender",i)):(m===0&&v("paginationRender",i),v("paginationUpdate",i)),e.params.watchOverflow&&e.enabled&&i.classList[e.isLocked?"add":"remove"](t.lockClass)})}function S(){const a=e.params.pagination;if(z())return;const t=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let n=e.pagination.el;n=y(n);let l="";if(a.type==="bullets"){let s=e.params.loop?Math.ceil(t/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&s>t&&(s=t);for(let b=0;b<s;b+=1)a.renderBullet?l+=a.renderBullet.call(e,b,a.bulletClass):l+=`<${a.bulletElement} class="${a.bulletClass}"></${a.bulletElement}>`}a.type==="fraction"&&(a.renderFraction?l=a.renderFraction.call(e,a.currentClass,a.totalClass):l=`<span class="${a.currentClass}"></span> / <span class="${a.totalClass}"></span>`),a.type==="progressbar"&&(a.renderProgressbar?l=a.renderProgressbar.call(e,a.progressbarFillClass):l=`<span class="${a.progressbarFillClass}"></span>`),e.pagination.bullets=[],n.forEach(s=>{a.type!=="custom"&&(s.innerHTML=l||""),a.type==="bullets"&&e.pagination.bullets.push(...s.querySelectorAll(H(a.bulletClass)))}),a.type!=="custom"&&v("paginationRender",n[0])}function M(){e.params.pagination=oe(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const a=e.params.pagination;if(!a.el)return;let t;typeof a.el=="string"&&e.isElement&&(t=e.el.shadowRoot.querySelector(a.el)),!t&&typeof a.el=="string"&&(t=[...document.querySelectorAll(a.el)]),t||(t=a.el),!(!t||t.length===0)&&(e.params.uniqueNavElements&&typeof a.el=="string"&&Array.isArray(t)&&t.length>1&&(t=[...e.el.querySelectorAll(a.el)],t.length>1&&(t=t.filter(n=>ie(n,".swiper")[0]===e.el)[0])),Array.isArray(t)&&t.length===1&&(t=t[0]),Object.assign(e.pagination,{el:t}),t=y(t),t.forEach(n=>{a.type==="bullets"&&a.clickable&&n.classList.add(a.clickableClass),n.classList.add(a.modifierClass+a.type),n.classList.add(e.isHorizontal()?a.horizontalClass:a.verticalClass),a.type==="bullets"&&a.dynamicBullets&&(n.classList.add(`${a.modifierClass}${a.type}-dynamic`),h=0,a.dynamicMainBullets<1&&(a.dynamicMainBullets=1)),a.type==="progressbar"&&a.progressbarOpposite&&n.classList.add(a.progressbarOppositeClass),a.clickable&&n.addEventListener("click",R),e.enabled||n.classList.add(a.lockClass)}))}function k(){const a=e.params.pagination;if(z())return;let t=e.pagination.el;t&&(t=y(t),t.forEach(n=>{n.classList.remove(a.hiddenClass),n.classList.remove(a.modifierClass+a.type),n.classList.remove(e.isHorizontal()?a.horizontalClass:a.verticalClass),a.clickable&&n.removeEventListener("click",R)})),e.pagination.bullets&&e.pagination.bullets.forEach(n=>n.classList.remove(...a.bulletActiveClass.split(" ")))}u("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const a=e.params.pagination;let{el:t}=e.pagination;t=y(t),t.forEach(n=>{n.classList.remove(a.horizontalClass,a.verticalClass),n.classList.add(e.isHorizontal()?a.horizontalClass:a.verticalClass)})}),u("init",()=>{e.params.pagination.enabled===!1?q():(M(),S(),C())}),u("activeIndexChange",()=>{typeof e.snapIndex>"u"&&C()}),u("snapIndexChange",()=>{C()}),u("snapGridLengthChange",()=>{S(),C()}),u("destroy",()=>{k()}),u("enable disable",()=>{let{el:a}=e.pagination;a&&(a=y(a),a.forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),u("lock unlock",()=>{C()}),u("click",(a,t)=>{const n=t.target;let{el:l}=e.pagination;if(Array.isArray(l)||(l=[l].filter(s=>!!s)),e.params.pagination.el&&e.params.pagination.hideOnClick&&l&&l.length>0&&!n.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;const s=l[0].classList.contains(e.params.pagination.hiddenClass);v(s===!0?"paginationShow":"paginationHide"),l.forEach(b=>b.classList.toggle(e.params.pagination.hiddenClass))}});const T=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:a}=e.pagination;a&&(a=y(a),a.forEach(t=>t.classList.remove(e.params.pagination.paginationDisabledClass))),M(),S(),C()},q=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:a}=e.pagination;a&&(a=y(a),a.forEach(t=>t.classList.add(e.params.pagination.paginationDisabledClass))),k()};Object.assign(e.pagination,{enable:T,disable:q,render:S,update:C,init:M,destroy:k})}const ve="/assets/cart-d7049f3c.svg",he="/assets/alertIcon-baf3c25f.svg";const ye=L("img",{src:ve,alt:""},null,-1),Ce=L("h3",{class:"px-4 text-2xl font-semibold text-primary"},"Food",-1),be={class:"ion-padding -mt-2 flex flex-col gap-3"},xe={class:"animation no-scrollbar flex items-center gap-1 overflow-x-auto text-xs"},_e=["onClick"],$e={class:"ion-padding grid grid-cols-1 gap-4 pt-2"},Le={class:"grid w-full grid-cols-1 gap-4 px-4"},Be={__name:"FoodService",setup(e){const{moveCenter:O,processError:u}=Q,v=U(),c=W("http"),I=[ce,de,pe,fe,ue],h=P(),y=l=>{h.value=l},z=l=>{console.log(l),k.value=l.activeIndex,O(S.value[l.activeIndex],!1)},g=P(!1),R=V(()=>v.getCategories),C=V(()=>v.getFoods);console.log("Categories",R.value,"Foods",C.value);const S=P(),M=P(4),k=P(0),T=P([{title:"All"},{title:"Swallowing"},{title:"Proteins"},{title:"Slides"},{title:"Soup"},{title:"Specials"},{title:"Peppersoups"}]),q=(l,s)=>{k.value=s,h.value.slideTo(s),O(l)},a=async l=>{setTimeout(()=>{l.target.complete()},2e3)};J(()=>{t(),n()});const t=async()=>{try{g.value=!0;const l=await c({endpoint:"GetCategories",httpMethod:"get"});g.value=!1,console.log(l),v.$patch({categories:l.items})}catch(l){g.value=!1;const s=u(l);console.log(s)}},n=async()=>{try{g.value=!0;const l=await c({endpoint:"GetFood",httpMethod:"get"});g.value=!1,console.log(l),v.$patch({foods:l.items})}catch(l){g.value=!1;const s=u(l);console.log(s)}};return(l,s)=>{const b=F("ion-buttons"),D=F("PNav"),i=F("ion-searchbar"),m=F("PDivider"),d=F("PInfo"),B=F("PLoader");return A(),G(x(ne),null,{default:$(()=>[p(x(w),{class:"ion-no-border bg-white"},{default:$(()=>[p(D,null,{default:$(()=>[p(b,{slot:"end"},{default:$(()=>[L("span",{onClick:s[0]||(s[0]=o=>l.$router.push({name:"FoodCart"})),class:"ion-activatable relative mr-2 overflow-hidden p-2"},[ye,L("div",{class:K([[M.value?"right-0 top-0 h-5 w-5":"right-1 top-1"],"absolute flex items-center justify-center rounded-full border-2 border-white bg-secondary p-1 text-xs font-medium text-white"])},X(M.value),3),p(x(Z),{class:"text-dark-200",type:"unbounded"})])]),_:1})]),_:1}),Ce,p(i,{mode:"ios"}),L("div",be,[L("div",xe,[(A(!0),E(j,null,N(T.value,(o,r)=>(A(),E("div",{ref_for:!0,ref_key:"menuRef",ref:S,onClick:f=>q(f,r),class:K([k.value==r?"bg-secondary font-medium text-white":"text-dark-400","rounded-lg px-2 py-1"]),key:r},X(o.title),11,_e))),128))])]),p(m)]),_:1}),p(x(te),{fullscreen:""},{default:$(()=>[p(x(ee),{slot:"fixed",onIonRefresh:s[1]||(s[1]=o=>a(o))},{default:$(()=>[p(x(ae))]),_:1}),L("div",$e,[p(d,{icon:x(he),text:"Order now and get it tomorrow"},null,8,["icon"])]),p(x(re),{modules:I,autoplay:!1,pagination:!1,zoom:!0,onSwiper:y,onSlideChange:z,class:"onboarding mt-1 pb-8"},{default:$(()=>[(A(!0),E(j,null,N(T.value,(o,r)=>(A(),G(x(ge),{key:r},{default:$(()=>[L("div",Le,[(A(),E(j,null,N(10,(f,_)=>p(me,{key:_})),64))])]),_:2},1024))),128))]),_:1})]),_:1}),g.value?(A(),G(B,{key:0})):le("",!0)]),_:1})}}};export{Be as default};
