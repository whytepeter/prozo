import{u as C,s as A,i as I,v as N,c as R,L as _,j as B,r as c,o as L,a as S,w as n,d as i,b as a,k as F,l as V,e as o,q as g,m as j,n as W,z as $,P as q}from"./index-ffa3455d.js";const E="/assets/location-ca7246db.svg",T=o("div",{class:"grid grid-cols-1 gap-2 px-4"},[o("div",null,[o("img",{src:E,alt:""})]),o("h3",{class:"text-2xl font-semibold text-primary"},"Where do you stay?"),o("p",{class:"text-sm text-dark-400"}," We need your location so we can show you the service we offer in your region ")],-1),U={class:"ion-padding grid grid-cols-1 gap-2"},z={class:"my-2 pl-1 text-sm text-dark-400"},D={class:"ion-padding mb-4"},M={__name:"LocationInfo",setup(G){const{processError:v}=$,u=C(),h=A("http"),y=I(),l=N(!1),p=R(()=>u.getlocationAreas&&u.getlocationAreas.map(e=>({label:e.name,value:e.name}))),s=_({state:"FCT - Abuja",location_area:""}),d=_({location:!1}),f=async e=>{await P(),e.target.complete()};B(()=>{f()});const x=async()=>{s.location_area.trim()!==""?(d.location=!1,await q.set({key:"location_area",value:s.location_area}),s.location_area="",y.push({name:"RegisterPersonal"})):d.location="Please select a location"},P=async()=>{if(!p.value.length)try{l.value=!0;const e=await h({endpoint:"GetAllLocation",httpMethod:"get"});l.value=!1,u.$patch({locationAreas:e})}catch(e){l.value=!1;const t=v(e);console.log(t)}};return(e,t)=>{const b=c("PNav"),m=c("PSelect"),k=c("PButton"),w=c("PFooter");return L(),S(i(W),null,{default:n(()=>[a(b),a(i(j),{fullscreen:""},{default:n(()=>[a(i(F),{slot:"fixed",onIonRefresh:t[0]||(t[0]=r=>f(r))},{default:n(()=>[a(i(V))]),_:1}),T,o("form",U,[a(m,{fullscreen:"",value:s.state,disabled:"",label:"Select State"},null,8,["value"]),a(m,{fullscreen:"",loading:l.value,value:s.location_area,onUpdate:t[1]||(t[1]=r=>s.location_area=r),options:p.value,label:"Location Area",error:d.location},null,8,["loading","value","options","error"]),o("p",z,[g(" Canâ€™t find your location? "),o("span",{onClick:t[2]||(t[2]=r=>e.$router.push({name:"JoinUs"})),class:"font-medium text-secondary"},"Click here")])])]),_:1}),a(w,null,{default:n(()=>[o("div",D,[a(k,{onClick:x,block:"",type:"submit"},{default:n(()=>[g("Next")]),_:1})])]),_:1})]),_:1})}}};export{M as default};
